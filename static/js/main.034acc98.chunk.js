(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(126)},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(24),i=n.n(a),s=n(116),u=n.n(s),r=(n(125),n(108)),o=n(109),c=n(112),l=n(110),p=n(113),d=n(72);function m(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),200===t.status){var n=t.responseText;return n=JSON.parse(n)}console.log(t.status+": "+t.statusText)}var y=n(84),f=n(73),b=n(114),v=n(118),h="0xbE2D0109E4626B813980546B870CDaE4566CCa56",g=window.web3;"undefined"==typeof g&&console.log("Metamask is not installed");var E=g.eth.contract([{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"way",type:"bool"},{name:"essence",type:"uint256"},{name:"count",type:"uint256"},{name:"price",type:"uint256"}],name:"addOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"user",type:"address"},{name:"essence",type:"uint256"},{name:"count",type:"uint256"}],name:"mintAssetDec",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"user",type:"address"},{name:"essence",type:"uint256"},{name:"count",type:"uint256"}],name:"mintAssetInc",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"user",type:"address"},{name:"count",type:"uint256"}],name:"mintToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"idIn",type:"uint256"},{name:"idOut",type:"uint256"}],name:"swapOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"way",type:"bool"},{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"essence",type:"uint256"},{indexed:!1,name:"count",type:"uint256"},{indexed:!1,name:"price",type:"uint256"}],name:"CreateOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"idIn",type:"uint256"},{indexed:!1,name:"idOut",type:"uint256"},{indexed:!1,name:"price",type:"uint256"}],name:"MatchOffer",type:"event"},{constant:!0,inputs:[{name:"user",type:"address"},{name:"essence",type:"uint256"}],name:"getAssets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getOffer",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"user",type:"address"}],name:"getTokens",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]).at("0xa15f5e75ce3f741c65f56370a5204067c8731a96");var O=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e;(e=h,new Promise(function(t,n){E.getTokens.call(e,function(e,n){if(e)return console.log(e);t(n.c[0])})})).then(function(e){console.log(e)}),function(e,t){return new Promise(function(n,a){E.getTokens.sendTransaction(e,t,{gasPrice:g.toWei(8.1,"Gwei"),gas:3e6},function(e,t){if(e)return console.log(e);n(t)})})}(h,10).then(function(e){console.log(e)})}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),t}(i.a.Component);y.c(b.a);var w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={arrayOrders:null,data:null,name:"usd",quantity:null,price:null,type:"buy"},n.onSendOrder=n.onSendOrder.bind(Object(d.a)(Object(d.a)(n))),n.onAcceptOrder=n.onAcceptOrder.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"onSendOrder",value:function(){var e,t,n,a;null!==this.state.quantity&&null!==this.state.price&&(this.setState({data:m((e=this.state.name,t=this.state.quantity,n=this.state.price,a=this.state.type,"https://playground24.ru/dsxt-api/send_order.php?name="+e+"&quantity="+t+"&price="+n+"&type="+a))}),function(e,t,n,a,i){return new Promise(function(s,u){E.getTokens.sendTransaction(e,t,n,a,i,{gasPrice:g.toWei(8.1,"Gwei"),gas:3e6},function(e,t){if(e)return console.log(e);s(t.c[0])})})}(2,!0,2,12,50).then(function(e){return console.log(e)}))}},{key:"onAcceptOrder",value:function(e){m(function(e){return"https://playground24.ru/dsxt-api/accept_orders.php?id="+e}(e))}},{key:"componentWillMount",value:function(){this.setState({arrayOrders:m("https://playground24.ru/dsxt-api/get_orders.php?request=true")})}},{key:"componentDidMount",value:function(){y.c(v.a),y.c(b.a);var e=y.b("chartdiv1",f.d);e.paddingRight=20,e.data=function(e){var t,n=[],a=e.length,i=new Date;i.setMinutes(i.getDate()-a);for(var s=0;s<a;s++){var u=new Date(i),r=e[s].time[0]+e[s].time[1],o=e[s].time[3]+e[s].time[4],c=e[s].time[6]+e[s].time[7];u.setMinutes(parseInt(o,10)),u.setHours(parseInt(r,10)),u.setSeconds(parseInt(c,10)),t=e[s].price,n.push({date:u,visits:t})}return n}(this.state.arrayOrders[0]);var t=e.xAxes.push(new f.a);t.baseInterval={timeUnit:"minute",count:1},t.tooltipDateFormat="HH:mm:ss, d MMMM",e.yAxes.push(new f.c).tooltip.disabled=!0;var n=e.series.push(new f.b);n.dataFields.dateX="date",n.dataFields.valueY="visits",n.tooltipText="Price: [bold]{valueY}[/]",n.fillOpacity=.3,e.cursor=new f.f,e.cursor.lineY.opacity=0,e.scrollbarX=new f.e,e.scrollbarX.series.push(n),e.events.on("datavalidated",function(){t.zoom({start:.8,end:1})}),e.fill=y.a("blue").lighten(.5)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{offerId:this.state.id}),i.a.createElement("div",{className:"general"},i.a.createElement("div",{className:"top"},i.a.createElement("div",{className:"form-order"},i.a.createElement("div",{className:"form"},i.a.createElement("select",{className:"input",type:"text",defaultValue:"usd",name:"name",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){e.setState({name:t.target.value})}},i.a.createElement("option",{value:"1"},"USD"),i.a.createElement("option",{value:"2"},"EUR"),i.a.createElement("option",{value:"3"},"BTC")),i.a.createElement("input",{className:"input",type:"number",name:"quantity",placeholder:"Quantity",onChange:function(t){e.setState({quantity:t.target.value})},required:!0}),i.a.createElement("input",{className:"input",type:"number",name:"price",placeholder:"Price",onChange:function(t){e.setState({price:t.target.value})},required:!0}),i.a.createElement("select",{className:"input",type:"text",defaultValue:"buy",name:"type",placeholder:"\u0422\u0438\u043f",onChange:function(t){e.setState({type:t.target.value})}},i.a.createElement("option",{value:"buy"},"Buy"),i.a.createElement("option",{value:"sell"},"Sell")),i.a.createElement("button",{className:"btn",onClick:function(){e.onSendOrder()}},"Send"))),i.a.createElement("div",{className:"chart"},i.a.createElement("div",{id:"chartdiv1"})),i.a.createElement("div",{className:"order"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",{className:"legenda"},i.a.createElement("td",null,"Price"),i.a.createElement("td",null,"Quantity"))),i.a.createElement("tbody",null,this.state.arrayOrders[1].map(function(e){return i.a.createElement("tr",{className:"sell",key:e.id},i.a.createElement("td",null,e.price),i.a.createElement("td",null,e.quantity))}),this.state.arrayOrders[2].map(function(e){return i.a.createElement("tr",{className:"buy",key:e.id},i.a.createElement("td",null,e.price),i.a.createElement("td",null,e.quantity))})))))))}}]),t}(i.a.Component);u.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[120,1,3]]]);
//# sourceMappingURL=main.034acc98.chunk.js.map